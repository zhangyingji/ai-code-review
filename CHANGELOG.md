# 更新日志

## [v2.3.10] - 2025-12-13

### 优化

- **优化日志打印**：处理提交时显示进度，避免以为卡住
- **优化文件筛选配置**：默认不扫描.sql、.conf文件

### 修复

- **修复获取差异只获取前20条的问题**

## [v2.3.9] - 2025-12-13

### 新增

- **报告新增获取提交人**：按提交维度匹配

### 删除

- **HTML报告删除按提交人维度筛选**：后续主要使用excel以及落库后界面查看

### 修复

- **部分不兼容python3.8的语法**

### 优化

- **优化提交人过滤逻辑**：从按提交人邮箱修改为按提交人姓名进行过滤

## [v2.3.8] - 2025-11-28

### 修复

- **提取代码段落逻辑bug**
- **无法强制关闭深度思考的bug**

### 优化

- **Excel报告**: 优化Excel报告的生成逻辑
- **大模型参数**: 降低温度、减小最大token数
- **日志打印格式**
- **HTML报告**: 优化界面展示、增加回到顶部按钮

## [v2.3.7] - 2025-11-27

### 修复

- **HTML报告问题详情**: 修复各维度无法显示问题详情的问题
- **代码段落显示**: 优化代码段落的HTML转义和格式保留

### 优化

- **Prompt提词精简**: 消除重复的约束条件，减少token消耗
- **JSON修复逻辑**: 提取修复逻辑为独立方法，提高可维护性
- **日志系统**: 添加线程名显示，增强并发评审的可追踪性

---

## [v2.3.6] - 2025-11-26

### 修复

- **"新增文件"无法被评审**: 修复新增文件无法被有效评审的问题
- **分页警告**: 修复python-gitlab分页警告和提交数量限制
- **JSON解析**: 改进LLM返回JSON格式的解析健壮性

### 优化

- **依赖管理**: 完善requirements.txt，添加openpyxl依赖
- **代码质量**: 改进日志和错误信息的诊断能力

### 重构

- **移除报告格式**: 下架Markdown和JSON报告，保留HTML和Excel

### 新增

- **GitLab项目名称配置**: 增加项目名称配置字段

---

## [v2.3.5] - 2025-11-24

### 修复

- **HTML报告作者显示**: 修复问题详情中作者显示Unknown的问题
- **代码段落缺失**: 修复部分问题没有显示代码段落的问题
- **提交人过滤**: 修复过滤后仍继续扫描文件的问题
- **JSON解析**: 改进对LLM返回JSON格式的容错性

### 优化

- **文档精简**: 精简CHANGELOG和README文档

### 重构

- **移除报告格式**: 简化报告生成系统，保留HTML和Excel核心格式

### 新增

- **GitLab项目名称配置**: 增加项目名称配置字段

---

## [v2.3.0] - 2025-11-23

### 重构

- **报告生成系统模块化**: 将report_generator.py拆分为formatters/、templates/、utils/模块

### 架构扩展

- **存储/集成/调度模块**: 为未来扩展提留接口

### 新增

- **新报告生成器**: 简化清晰的接口
- **数据处理工具**: DataProcessor数据处理

---

## [v2.1.0] - 2025-11-19

### 新增

- **Excel报告支持**: Excel (.xlsx) 格式报告生成
- **HTML代码段落展示**: 提供代码段落可视化
- **问题定位增强**: 改进问题定位信息
- **交互式仪表板筛选**: 按严重程度实时筛选

### 优化

- **报告生成方法**: 改进问题数据收集流程
- **代码段落展示**: 支持新增/删除/上下文三种代码行
- **Prompt优化**: 增强大模型输出的结构化数据

### 修复

- **Excel Sheet管理**: 修复默认空白Sheet问题
- **代码段落折叠**: 改为默认折叠
- **条件导入处理**: 改进openpyxl依赖处理

---

## [v2.0.0] - 2025-11-19

### 新增

- **HTML报告可折叠功能**: 为提交人和文件区域添加展开/折叠功能
- **悬浮快速导航栏**: 页面右下角悬浮导航按钮
- **严重问题汇总区域**: 汇总严重问题展示区域
- **问题按严重程度排序**: 按严重程度排序报告中的所有问题

### 优化

- **精简统计模块**: 合并关键指标概览和总体统计
- **改进HTML报告布局**: 仪表板设计、动画效果
- **增强用户交互**: 添加悬停效果和视觉反馈
- **日志优化**: 清除深度思考日志重复

### 修复

- **深度思考日志**: 仅打印一次
- **API Key处理**: 改进可选参数处理
- **HTTPS证书警告**: 支持自签名证书

---

## [v1.0.0] - 2025-11-10

### 初始版本

- **核心功能**: GitLab集成、大模型代码评审、多格式报告生成
- **配置系统**: YAML配置文件与本地会路
- **性能优化**: 并发评审支持
- **日志系统**: 文件日志与轮转处理
- **深度思考模式**: 消息标签切换与全局配置
- **分支管理**: 指定源分支和基准分支
